<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="com.kap.service.dao.sm.SMGWinBusinessMapper">    <!--         쿼리명 : SMGWinBusinessMapper.selectWinBusinessList         설  명 :  상생 사업 목록 조회.          수정일     수정자       수정내용        ==========   ======    ==============        2023.10.23   임서화      최초생성    -->    <select id="selectWinBusinessList" parameterType="SMGWinBusinessDTO" resultType="SMGWinBusinessDTO">        SELECT /* SMGWinBusinessMapper.selectWinBusinessList */            SEQ,            TITL,            CNTN,            LINK_URL,            MAIN_YN,            ORD        FROM            SM_WIN_BUSINESS_MST A            ORDER BY                ORD DESC    </select>    <!--         쿼리명 : SMGWinBusinessMapper.selectWinBusinessTotCnt         설  명 :  상생 사업 목록 카운트.          수정일     수정자       수정내용        ==========   ======    ==============        2023.10.23   임서화      최초생성    -->    <select id="selectWinBusinessTotCnt" parameterType="SMGWinBusinessDTO" resultType="java.lang.Integer">        SELECT            count(*)        FROM            SM_WIN_BUSINESS_MST    </select>    <!--     쿼리명 : SMGWinBusinessMapper.insertWinBusiness     설  명 :  상생 사업 등록      수정일     수정자       수정내용    ==========   ======    ==============    2023.10.23   임서화      최초생성    -->    <insert id="insertWinBusiness" parameterType="SMGWinBusinessDTO">        <selectKey keyProperty="ord" resultType="java.lang.Integer" order="BEFORE">            SELECT IFNULL(MAX(ORD), 0) + 1 FROM SM_WIN_BUSINESS_MST        </selectKey>        INSERT /* SMGWinBusinessMapper.insertinsertWinBusiness */ INTO SM_WIN_BUSINESS_MST        ( SEQ,        LANG_CD,        TITL,        CNTN,        LINK_URL,        MAIN_YN,        ORD,        REG_ID,        REG_IP,        REG_DTM        )        VALUES        ( #{seq}        , #{langCd}        , #{titl}        , #{cntn}        , #{linkUrl}        , #{mainYn}        , #{ord}        , #{regId}        , #{regIp}        , NOW()        )    </insert>    <!--     쿼리명 : SMGWinBusinessMapper.updateWinBusiness     설  명 :  상생 사업 수정      수정일     수정자       수정내용    ==========   ======    ==============    2023.10.23   임서화      최초생성    -->    <update id="updateWinBusiness" parameterType="SMGWinBusinessDTO">        UPDATE /* SMGWinBusinessMapper.updateWinBusiness */ SM_WIN_BUSINESS_MST        SET        TITL = #{titl}        , CNTN = #{cntn}        , LINK_URL = #{linkUrl}        , MAIN_YN = #{mainYn}        , MOD_ID = #{regId}        , MOD_IP = #{regIp}        , MOD_DTM = NOW()        WHERE 1=1        AND SEQ = #{detailsKey}    </update>    <!--     쿼리명 : SMGWinBusinessMapper.deleteWinBusiness     설  명 :  상생 사업 삭제      수정일     수정자       수정내용    ==========   ======    ==============    2023.10.23   임서화      최초생성    -->    <delete id="deleteWinBusiness" parameterType="SMGWinBusinessDTO">        DELETE /* SMGWinBusinessMapper.deleteWinBusiness */        FROM        SM_WIN_BUSINESS_MST        <where>            <choose>                <when test="delValueList != null and delValueList.size() > 0">                    SEQ IN                    <foreach collection="delValueList" item="delValueList" index="index" separator=", " open="(" close=")">                        #{delValueList}                    </foreach>                </when>                <otherwise>                    SEQ = #{detailsKey}                </otherwise>            </choose>            AND DVC_CD = #{gubun}        </where>    </delete>    <!--     쿼리명 : SMGWinBusinessMapper.updateOrder     설  명 :  상생 사업 정렬 수정      수정일     수정자       수정내용    ==========   ======    ==============    2023.10.23   임서화      최초생성    -->    <update id="updateOrder" parameterType="SMGWinBusinessDTO">        UPDATE /* SMGWinBusinessMapper.updateOrder */ SM_WIN_BUSINESS_MST        SET            ORD = #{ord}          , MOD_ID = #{modId}          , MOD_IP = #{modIp}          , MOD_DTM = NOW()        WHERE 1=1          AND SEQ = #{seq}          AND DVC_CD = #{gubun}    </update>    <!--     쿼리명 : SMGWinBusinessMapper.selectWinBusinessNewRow     설  명 : 상생 사업 정렬을 위한 row를 조회한다.      수정일     수정자       수정내용    ==========   ======    ==============    2023.10.23   임서화      최초생성-->    <select id="selectWinBusinessNewRow" parameterType="SMGWinBusinessDTO">        SELECT /* SMGWinBusinessMapper.selectWinBusinessNewRow */            SEQ,            ORD,            DVC_CD        FROM            SM_WIN_BUSINESS_MST        WHERE            ORD = (                SELECT                    <if test='sortType == "UP"'>                        MIN(ORD)                    </if>                    <if test='sortType == "DOWN"'>                        MAX(ORD)                    </if>                FROM                    SM_WIN_BUSINESS_MST                WHERE                    1=1                    <if test='sortType == "UP"'>                        AND ORD <![CDATA[>]]> #{ord}                    </if>                    <if test='sortType == "DOWN"'>                        AND ORD <![CDATA[<]]> #{ord}                    </if>            )        LIMIT 1    </select></mapper>